<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>OMNeT++ Parallel Simulation Support: cParsimPartition Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cParsimPartition Class Reference<br>
<small>
[<a class="el" href="group__Parsim.html">Parallel simulation support</a>]</small>
</h1><!-- doxytag: class="cParsimPartition" --><!-- doxytag: inherits="cObject" --><code>#include &lt;<a class="el" href="cparsimpartition_8h-source.html">cparsimpartition.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for cParsimPartition:</div>
<div class="dynsection">

<p><center><img src="classcParsimPartition.png" usemap="#cParsimPartition_map" border="0" alt=""></center>
<map name="cParsimPartition_map">
<area doxygen="opptags.xml:../api//" href="../api//classcObject.html" alt="cObject" shape="rect" coords="0,0,103,24">
</map>
</div>

<p>
<a href="classcParsimPartition-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Represents one partition in a parallel simulation. 
<p>
Knows about partitions and the links between this partition and its neighbours.<p>
Interconnections are stored not directly inside this object, but in cProxyGate's of cPlaceholderModule's. The remote address fields of cProxyGate's are filled out here in the connectRemoteGates() method.<p>
This layer also handles generic (synchronization-independent part of) communication with other partitions:<p>
<ul>
<li>cMessages outgoing from this partition flow through here (<a class="el" href="classcParsimPartition.html#be2edb6d774bd55c74559e40e88b43a8" title="A hook called from cProxyGate::deliver() when an outgoing cMessage arrives at partition...">processOutgoingMessage()</a>), and</li></ul>
<p>
<ul>
<li>incoming messages are processed at here by <a class="el" href="classcParsimPartition.html#5a0ae0a2981856ac8d76db496f75ef49" title="Process messages coming from other partitions.">processReceivedBuffer()</a> (invoked from the synchronization layer, <a class="el" href="classcParsimSynchronizer.html" title="Abstract base class for parallel simulation algorithms.">cParsimSynchronizer</a>)</li></ul>
<p>
This layer is communication library independent (i.e it contains no MPI, PVM, etc. calls) -- it builds on the abstraction layer provided by <a class="elRef" doxygen="opptags.xml:../api//" href="../api//classcParsimCommunications.html">cParsimCommunications</a>. <table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcParsimPartition.html#7ef8367fda567f3ebf440f63b3c7b0c2">cParsimPartition</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcParsimPartition.html#4b96d85d40be7b143c9b7eb2b2c867fe">~cParsimPartition</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcParsimPartition.html#6f4c35976a45590fc9f36818529bd5f5">setContext</a> (<a class="elRef" doxygen="opptags.xml:../api//" href="../api//classcSimulation.html">cSimulation</a> *sim, <a class="elRef" doxygen="opptags.xml:../api//" href="../api//classcParsimCommunications.html">cParsimCommunications</a> *comm, <a class="el" href="classcParsimSynchronizer.html">cParsimSynchronizer</a> *synch)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcParsimPartition.html#119314ed364dde4949be64f687f90526">startRun</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcParsimPartition.html#a5ad76488774911ebfeb17e8b72652f2">endRun</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcParsimPartition.html#91ed3c4bef703f75bdfa1329b903ad6e">shutdown</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcParsimPartition.html#be2edb6d774bd55c74559e40e88b43a8">processOutgoingMessage</a> (<a class="elRef" doxygen="opptags.xml:../api//" href="../api//classcMessage.html">cMessage</a> *msg, int procId, int moduleId, int gateId, void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcParsimPartition.html#5a0ae0a2981856ac8d76db496f75ef49">processReceivedBuffer</a> (<a class="elRef" doxygen="opptags.xml:../api//" href="../api//classcCommBuffer.html">cCommBuffer</a> *buffer, int tag, int sourceProcId)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcParsimPartition.html#0fe063ee22ec1cceeab951e6afab01b7">processReceivedMessage</a> (<a class="elRef" doxygen="opptags.xml:../api//" href="../api//classcMessage.html">cMessage</a> *msg, int destModuleId, int destGateId, int sourceProcId)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcParsimPartition.html#623a079672993e75dfe649c170fe1d5f">broadcastTerminationException</a> (<a class="elRef" doxygen="opptags.xml:../api//" href="../api//classcTerminationException.html">cTerminationException</a> &amp;e)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcParsimPartition.html#f430fde9c3cfb793676972c695feb46d">broadcastException</a> (std::exception &amp;e)</td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="7ef8367fda567f3ebf440f63b3c7b0c2"></a><!-- doxytag: member="cParsimPartition::cParsimPartition" ref="7ef8367fda567f3ebf440f63b3c7b0c2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cParsimPartition::cParsimPartition           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

</div>
</div><p>
<a class="anchor" name="4b96d85d40be7b143c9b7eb2b2c867fe"></a><!-- doxytag: member="cParsimPartition::~cParsimPartition" ref="4b96d85d40be7b143c9b7eb2b2c867fe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual cParsimPartition::~cParsimPartition           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Virtual destructor. 
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="6f4c35976a45590fc9f36818529bd5f5"></a><!-- doxytag: member="cParsimPartition::setContext" ref="6f4c35976a45590fc9f36818529bd5f5" args="(cSimulation *sim, cParsimCommunications *comm, cParsimSynchronizer *synch)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cParsimPartition::setContext           </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="opptags.xml:../api//" href="../api//classcSimulation.html">cSimulation</a> *&nbsp;</td>
          <td class="paramname"> <em>sim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="opptags.xml:../api//" href="../api//classcParsimCommunications.html">cParsimCommunications</a> *&nbsp;</td>
          <td class="paramname"> <em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcParsimSynchronizer.html">cParsimSynchronizer</a> *&nbsp;</td>
          <td class="paramname"> <em>synch</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pass <a class="el" href="classcParsimPartition.html" title="Represents one partition in a parallel simulation.">cParsimPartition</a> the objects it has to cooperate with. 
<p>

</div>
</div><p>
<a class="anchor" name="119314ed364dde4949be64f687f90526"></a><!-- doxytag: member="cParsimPartition::startRun" ref="119314ed364dde4949be64f687f90526" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cParsimPartition::startRun           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called at the beginning of a simulation run. 
<p>
Fills in remote gate addresses of all cProxyGate's in the current partition. 
</div>
</div><p>
<a class="anchor" name="a5ad76488774911ebfeb17e8b72652f2"></a><!-- doxytag: member="cParsimPartition::endRun" ref="a5ad76488774911ebfeb17e8b72652f2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cParsimPartition::endRun           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called at the end of a simulation run. 
<p>

</div>
</div><p>
<a class="anchor" name="91ed3c4bef703f75bdfa1329b903ad6e"></a><!-- doxytag: member="cParsimPartition::shutdown" ref="91ed3c4bef703f75bdfa1329b903ad6e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cParsimPartition::shutdown           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Shut down the parallel simulation system. 
<p>

</div>
</div><p>
<a class="anchor" name="be2edb6d774bd55c74559e40e88b43a8"></a><!-- doxytag: member="cParsimPartition::processOutgoingMessage" ref="be2edb6d774bd55c74559e40e88b43a8" args="(cMessage *msg, int procId, int moduleId, int gateId, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void cParsimPartition::processOutgoingMessage           </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="opptags.xml:../api//" href="../api//classcMessage.html">cMessage</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>procId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>moduleId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>gateId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A hook called from <a class="el" href="classcProxyGate.html#759676e184721645a897036782338e17" title="Redefined to pass message to the parallel simulation layer, cParsimPartition.">cProxyGate::deliver()</a> when an outgoing <a class="elRef" doxygen="opptags.xml:../api//" href="../api//classcMessage.html">cMessage</a> arrives at partition boundary. 
<p>
We just pass it up to the synchronization layer (see similar method in <a class="el" href="classcParsimSynchronizer.html" title="Abstract base class for parallel simulation algorithms.">cParsimSynchronizer</a>). 
</div>
</div><p>
<a class="anchor" name="5a0ae0a2981856ac8d76db496f75ef49"></a><!-- doxytag: member="cParsimPartition::processReceivedBuffer" ref="5a0ae0a2981856ac8d76db496f75ef49" args="(cCommBuffer *buffer, int tag, int sourceProcId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void cParsimPartition::processReceivedBuffer           </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="opptags.xml:../api//" href="../api//classcCommBuffer.html">cCommBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sourceProcId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process messages coming from other partitions. 
<p>
This method is called from the synchronization layer (see <a class="el" href="classcParsimSynchronizer.html" title="Abstract base class for parallel simulation algorithms.">cParsimSynchronizer</a>), after it has processed all tags that it understands (namely, cMessages (tag=TAG_CMESSAGE) and all tags used by the synchronization protocol). 
</div>
</div><p>
<a class="anchor" name="0fe063ee22ec1cceeab951e6afab01b7"></a><!-- doxytag: member="cParsimPartition::processReceivedMessage" ref="0fe063ee22ec1cceeab951e6afab01b7" args="(cMessage *msg, int destModuleId, int destGateId, int sourceProcId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void cParsimPartition::processReceivedMessage           </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="opptags.xml:../api//" href="../api//classcMessage.html">cMessage</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>destModuleId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>destGateId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sourceProcId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process cMessages received from other partitions. 
<p>
This method is called from the synchronization layer (see <a class="el" href="classcParsimSynchronizer.html" title="Abstract base class for parallel simulation algorithms.">cParsimSynchronizer</a>) when it received a message from other partitions. This method checks that the destination module/gate still exists, sets the source module/gate to the appropriate placeholder module, and inserts the message into the FES. 
</div>
</div><p>
<a class="anchor" name="623a079672993e75dfe649c170fe1d5f"></a><!-- doxytag: member="cParsimPartition::broadcastTerminationException" ref="623a079672993e75dfe649c170fe1d5f" args="(cTerminationException &amp;e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void cParsimPartition::broadcastTerminationException           </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="opptags.xml:../api//" href="../api//classcTerminationException.html">cTerminationException</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>e</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when a <a class="elRef" doxygen="opptags.xml:../api//" href="../api//classcTerminationException.html">cTerminationException</a> occurs (i.e. 
<p>
the simulation is about to be finished normally), this methods notifies other partitions about the exception.<p>
This methods "eats" exceptions that occur during broadcast. (We're not interested in cascading exceptions.) 
</div>
</div><p>
<a class="anchor" name="f430fde9c3cfb793676972c695feb46d"></a><!-- doxytag: member="cParsimPartition::broadcastException" ref="f430fde9c3cfb793676972c695feb46d" args="(std::exception &amp;e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void cParsimPartition::broadcastException           </td>
          <td>(</td>
          <td class="paramtype">std::exception &amp;&nbsp;</td>
          <td class="paramname"> <em>e</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when an exception occurs (i.e. 
<p>
the simulation is about to be stopped with an error), this methods notifies other partitions about the exception.<p>
This methods "eats" exceptions that occur during broadcast. (We're not interested in cascading exceptions.) 
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="cparsimpartition_8h-source.html">cparsimpartition.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Mar 27 11:22:16 2012 for OMNeT++ Parallel Simulation Support by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
